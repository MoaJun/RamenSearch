import{j as l}from"./index-Dq7NBkUu.js";import{r as n}from"./ui-D1brmElj.js";import{l as u}from"./googleMaps-dUlr1ba2.js";import"./vendor-D3F3s8fL.js";import"./google-maps-93e-Jyro.js";const x=({shop:e,apiKey:o})=>{const a=n.useRef(null),s=n.useRef(null),t=n.useRef(null);return n.useEffect(()=>{if(!o){console.warn("Google Maps API key is not provided");return}const i=async()=>{try{await u(o),window.google&&window.google.maps&&c()}catch(r){console.error("Failed to load Google Maps API:",r)}},c=()=>{if(a.current)try{const r=new google.maps.Map(a.current,{center:{lat:e.lat,lng:e.lng},zoom:16,mapTypeControl:!1,streetViewControl:!0,fullscreenControl:!0,zoomControl:!0,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"simplified"}]}]}),g=new google.maps.Marker({position:{lat:e.lat,lng:e.lng},map:r,title:e.name,animation:google.maps.Animation.DROP,icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(`
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z" fill="#EF4444"/>
                <circle cx="12" cy="9" r="2.5" fill="white"/>
              </svg>
            `),scaledSize:new google.maps.Size(32,32),anchor:new google.maps.Point(16,32)}});s.current=r,t.current=g}catch(r){console.error("Error initializing Google Maps:",r)}};return i(),()=>{t.current&&t.current.setMap(null),s.current=null,t.current=null}},[e,o]),o?l.jsx("div",{className:"w-full h-64 bg-gray-800 rounded-lg overflow-hidden",children:l.jsx("div",{ref:a,className:"w-full h-full"})}):l.jsx("div",{className:"w-full h-64 bg-gray-800 rounded-lg flex items-center justify-center",children:l.jsx("div",{className:"text-center text-gray-400",children:l.jsx("p",{children:"地図を表示するにはGoogle Maps API キーが必要です"})})})};export{x as default};
